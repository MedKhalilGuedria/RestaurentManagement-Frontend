(function(e){function n(a,b){var d=a.outerWidth(),c=e(window).width();q?0>=a.offset().left&&a.addClass(b):a.offset().left+d>c&&a.addClass(b)}function p(a,b){var d=e(window),c=this;this.config=e.extend({},r,a);Object.defineProperties(this,{element:{get:function(){return b}}});d.on("resize.MonkeysanNav",function(){c.timeOutId&&clearTimeout(c.timeOutId);c.timeOutId=setTimeout(function(){c._refresh()},100)});this._refresh()}function m(a,b){Object.defineProperties(this,{activeClass:{get:function(){return this.prefix+
a.classes.desktopActive},configurable:!0,enumerable:!0},reverseClass:{get:function(){return this.prefix+a.classes.reverse},configurable:!0,enumerable:!0},element:{get:function(){return b},configurable:!1,enumerable:!1},classPrefix:{get:function(){return"."+a.cssPrefix},configurable:!1,enumerable:!1},prefix:{get:function(){return a.cssPrefix}},config:{get:function(){return a},configurable:!1,enumerable:!1}})}function h(a,b){m.call(this,a,b)}function g(a,b){m.call(this,a,b);Object.defineProperty(this,
"activeClass",{get:function(){return this.prefix+a.classes.tabletActive},configurable:!1})}function k(a,b){m.call(this,a,b);Object.defineProperty(this,"activeClass",{get:function(){return this.prefix+a.classes.mobileActive},configurable:!1})}var r={cssPrefix:"",mobileBreakpoint:767,movingToAnotherPageDelay:700,classes:{desktopActive:"selected",tabletActive:"tapped",mobileActive:"tapped",reverse:"reverse",mobileBtnAdditionalClass:"",bodyMovingToAnotherPage:"body--moving-to-another-page"},mobileAnimation:{easing:"easeOutQuint",
speed:350}},q="rtl"===getComputedStyle(document.body).direction;p.prototype._refresh=function(){e(window).width()<=this.config.mobileBreakpoint&&!(this.state instanceof k)?(this.state&&this.state.destroy(),this.state=new k(this.config,this.element),this.state.init()):e(window).width()>=this.config.mobileBreakpoint&&(Modernizr.touchevents?this.state instanceof g||(this.state&&this.state.destroy(),this.state=new g(this.config,this.element),this.state.init()):this.state instanceof h||(this.state&&this.state.destroy(),
this.state=new h(this.config,this.element),this.state.init()))};h.prototype.init=function(){var a=this;a.element.on("click.MonkeysanNavDesktop","a",function(b){var d=e(this).attr("href");"#"!=d&&(b.preventDefault(),e("body").addClass(a.config.cssPrefix+a.config.classes.bodyMovingToAnotherPage),setTimeout(function(){window.location.href=d},a.config.movingToAnotherPageDelay))});a.element.on("mouseenter.MonkeysanNavDesktop",a.classPrefix+"has-children, .menu-item-has-children",function(b){var d=e(this),
c=d.children(a.classPrefix+"sub-menu, .sub-menu");d.hasClass(a.activeClass)||(c.length&&(c.data("timeOutId")&&clearTimeout(c.data("timeOutId")),n(c,a.reverseClass)),d.addClass(a.activeClass));b.stopPropagation();b.preventDefault()});a.element.on("mouseleave.MonkeysanNavDesktop",a.classPrefix+"has-children."+a.activeClass+", .menu-item-has-children."+a.activeClass,function(b){e(this).removeClass(a.activeClass);b.preventDefault()});a.element.on("mouseleave.MonkeysanNavDesktop",function(b){e(this).find(a.classPrefix+
"has-children."+a.activeClass+", .menu-item-has-children."+a.activeClass).removeClass(a.activeClass);e(this).find("."+a.reverseClass).each(function(b,c){var d=e(c);d.data("timeOutId",setTimeout(function(){d.removeClass(a.reverseClass)},350))});b.stopPropagation();b.preventDefault()})};h.prototype.destroy=function(){this.element.off(".MonkeysanNavDesktop");this.element.find(this.classPrefix+this.activeClass).removeClass(this.activeClass)};g.prototype.init=function(){var a=this,b=this.prefix+"prevented";
this.element.on("click.MonkeysanNavTablet","a",function(d){var c=e(this),l=c.attr("href");a.closeAllSubMenus(c.parents("."+a.activeClass));if(c.parent(".menu-item-has-children").length&&!c.hasClass(b)){c.addClass(b);c=c.parent();var f=c.children(a.classPrefix+"sub-menu, .sub-menu");c.hasClass(a.activeClass)||(f.length&&(f.data("timeOutId")&&clearTimeout(f.data("timeOutId")),n(f,a.reverseClass)),c.addClass(a.activeClass));d.stopPropagation();d.preventDefault()}else"#"!=l&&(d.preventDefault(),e("body").addClass(a.config.cssPrefix+
a.config.classes.bodyMovingToAnotherPage),setTimeout(function(){window.location.href=l},a.config.movingToAnotherPageDelay))});e(document).on("click.MonkeysanNavTablet",function(b){b.stopPropagation();e(b.target).closest(a.element).length||a.closeAllSubMenus()})};g.prototype.closeAllSubMenus=function(a){var b=this,d=b.element.find("."+b.activeClass),c=this.prefix+"prevented",l=this.classPrefix+"prevented";a&&(d=d.not(a));d.length&&(a=d.children(b.classPrefix+"sub-menu, .sub-menu"),a.length&&a.each(function(a,
c){var d=e(c);d.data("timeOutId",setTimeout(function(){d.removeClass(b.reverseClass)},350))}),d.removeClass(b.activeClass).children(l).removeClass(c))};g.prototype.destroy=function(){this.element.off(".MonkeysanNavTablet");this.closeAllSubMenus()};k.prototype.init=function(){var a=this,b=a.prefix+"mobile-nav-btn "+a.config.classes.mobileBtnAdditionalClass;a.element.add(a.element.find(a.classPrefix+"sub-menu, .sub-menu")).hide();if(!a.element.prev("."+b).length)e("<button></button>",{"class":b}).insertBefore(a.element).on("click.MonkeysanNavMobile",
function(b){e(this).toggleClass(a.prefix+"opened");a.element.stop().slideToggle({duration:a.config.mobileAnimation.speed,easing:a.config.mobileAnimation.easing,step:function(){a.element.trigger("navigationopening.jquery.nav",[a.element])}});b.stopPropagation();b.preventDefault()});a.element.on("click.MonkeysanNavMobile","a",function(b){var c=e(this),d=c.attr("href"),f=a.prefix+"prevented";c.parent(".menu-item-has-children").length&&!c.hasClass(f)?(c.addClass(f),c.parent().addClass(a.activeClass).children(a.classPrefix+
"sub-menu, .sub-menu").stop().slideDown({duration:a.config.mobileAnimation.speed,easing:a.config.mobileAnimation.easing,step:function(){a.element.trigger("submenumobileopening.jquery.nav",[e(this)])},complete:function(){a.element.trigger("submenumobileopened.jquery.nav",[e(this)])}}).parent().siblings("."+a.activeClass).removeClass(a.activeClass).children("."+f).removeClass(f).siblings(a.classPrefix+"sub-menu, .sub-menu").stop().slideUp({duration:a.config.mobileAnimation.speed,easing:a.config.mobileAnimation.easing,
step:function(){a.element.trigger("submenumobileclosing.jquery.nav",[e(this)])},complete:function(){a.element.trigger("submenumobileclosed.jquery.nav",[e(this)])}}),b.preventDefault(),b.stopPropagation()):"#"!=d&&(b.preventDefault(),e("body").addClass(a.config.cssPrefix+a.config.classes.bodyMovingToAnotherPage),setTimeout(function(){window.location.href=d},a.config.movingToAnotherPageDelay))})};k.prototype.destroy=function(){this.element.show().off(".MonkeysanNavMobile").prev(this.classPrefix+"mobile-nav-btn").removeClass(this.prefix+
"opened").end().find("."+this.activeClass).removeClass(this.activeClass).end().find(this.classPrefix+"prevented").removeClass(this.prefix+"prevented").end().find(this.classPrefix+"sub-menu, .sub-menu").show()};e.fn.MonkeysanNav=function(a){return this.each(function(b,d){var c=e(this);c.data("MonkeysanNav")||c.data("MonkeysanNav",new p(a,c))})}})(jQuery);
